{% import "macros.jinja2" as M %}
{% if features['qtype'][0][0] == 'findkey' %}
[out:csv(::type,::id,"{{ features['qtype'][0][1] }}")];
{% endif %}
{% if features['area'] %}
{{ M.area(features) }}
{{ M.nwr(features['center_nwr'], result_set='.center') }}
{% else %}
{{ M.nwr(features['center_nwr'], area=none, result_set='.center') }}
{% endif %}
{{ M.nwr(features['target_nwr'], area='around.center:' + features['maxdist']|dist_lookup) }}
{% if features['qtype'][0] == Symbol('count') %}
out count;
{% else %}
out geom;
{% endif %}
